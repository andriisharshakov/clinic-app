<div class="dropdown dropdown-appointments" *ngIf="enabled"
     dropdown (isOpenChange)="openChange($event)">
    <div class="topbar-item" data-toggle="dropdown" data-offset="10px,0px"
         dropdownToggle>
        <div class="btn btn-clean btn-dropdown btn-lg mr-1 text-dark-50">
            <i class="flaticon-tabs"></i><span class="d-none d-lg-inline">{{l('Header.Therapist.UpcomingAppointments')}}</span>
        </div>
    </div>
    <div *dropdownMenu class="dropdown-menu p-0 m-0 dropdown-menu-anim-up dropdown-menu-lg">
        <div class="position-relative" [busyIf]="isLoading">
            <div class="d-flex align-items-center patient-row p-2" *ngFor="let appointment of appointments">
                <app-profile-picture [userId]="appointment.patient.id" divClass="symbol-40 mr-5"></app-profile-picture>
                <div class="d-flex flex-column font-weight-bold">
                    <a href="#" class="text-dark text-hover-none mb-1 font-size-lg">
                        {{getFullName(appointment.patient)}}
                    </a>
                    <!-- <span class="text-muted">Appointment</span> -->
                </div>
                <div class="d-flex flex-column">
                    <span>{{appointment.start | userTimeFormat:'l LT'}}</span>
                    <span class="text-muted">{{appointment.start | userTzMoment | mFromNow}}</span>
                </div>
            </div>
            <div *ngIf="!isLoading && appointments?.length == 0" class="p-4 text-center font-weight-bolder">
                <span>{{l('Header.Therapist.NoUpcomingAppointments')}}</span>
            </div>
        </div>
    </div>
</div>
